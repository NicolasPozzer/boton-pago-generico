(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3075],{32940:function(e,t,a){Promise.resolve().then(a.bind(a,81940))},81940:function(e,t,a){"use strict";a.d(t,{default:function(){return s}});var r=a(57437),n=a(2265),o=a(55086);function s(){let[e,t]=(0,n.useState)(""),[a,s]=(0,n.useState)(null),[l,c]=(0,n.useState)(!1),[d,i]=(0,n.useState)(null),u=async()=>{if(!e){i("Por favor ingrese el ID de la transacci\xf3n");return}try{c(!0),i(null);let t=await o.Z.checkTransactionStatus(e);s(t)}catch(e){i(e instanceof Error?e.message:"Error desconocido")}finally{c(!1)}};return(0,r.jsx)("section",{id:"features",className:"w-full py-12 md:py-24 bg-gray-50 rounded-4 shadow-md rounded px-8 pt-6 pb-8",children:(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Estado de la Transacci\xf3n"}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"ID de la transacci\xf3n",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})}),(0,r.jsx)("button",{onClick:u,disabled:l,className:"bg-blue-500 text-white px-4 py-2 rounded ".concat(l?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"),children:l?"Consultando...":"Consultar Estado"}),d&&(0,r.jsx)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d}),a&&(0,r.jsxs)("div",{className:"mt-4 bg-white shadow-md rounded px-8 pt-6 pb-8",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Estado"}),(0,r.jsx)("p",{className:"font-bold ".concat("APROBADO"===a.estado?"text-green-600":"PENDIENTE"===a.estado?"text-yellow-600":"text-red-600"),children:a.estado})]}),a.fecha_actualizacion&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"\xdaltima Actualizaci\xf3n"}),(0,r.jsx)("p",{children:new Date(a.fecha_actualizacion).toLocaleString()})]}),a.detalle&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Detalle"}),(0,r.jsx)("p",{children:a.detalle})]})]})]})})}},55086:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let r="https://www.pagos.andestic.io",n={async processPayment(e){try{let t=new FormData;Object.entries(e).forEach(e=>{let[a,r]=e;t.append(a,r)});let a=await fetch("".concat(r,"/imprime"),{method:"POST",body:t});if(!a.ok){let e=await a.json();throw Error(e.error||"Error procesando el pago")}let n=await a.json();if(!n.xml||!n.servipag_url)throw Error("Respuesta inv\xe1lida del servidor");return n}catch(e){throw console.error("Error en processPayment:",e),e}},async receivePayment(e){let t=new FormData;t.append("xml",e);let a=await fetch("".concat(r,"/recepciona"),{method:"POST",body:t});if(!a.ok)throw Error("Error recibiendo la confirmaci\xf3n");return a.json()},async checkTransactionStatus(e){let t=new FormData;t.append("id_tx_cliente",e);let a=await fetch("".concat(r,"/estado"),{method:"POST",body:t});if(!a.ok)throw Error("Error consultando el estado de la transacci\xf3n");return a.json()}}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=32940)}),_N_E=e.O()}]);