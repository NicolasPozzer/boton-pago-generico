(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1015],{86280:function(e,t,a){Promise.resolve().then(a.bind(a,53133))},55086:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let r="https://www.pagos.andestic.io",s={async processPayment(e){try{let t=new FormData;Object.entries(e).forEach(e=>{let[a,r]=e;t.append(a,r)});let a=await fetch("".concat(r,"/imprime"),{method:"POST",body:t});if(!a.ok){let e=await a.json();throw Error(e.error||"Error procesando el pago")}let s=await a.json();if(!s.xml||!s.servipag_url)throw Error("Respuesta inv\xe1lida del servidor");return s}catch(e){throw console.error("Error en processPayment:",e),e}},async receivePayment(e){let t=new FormData;t.append("xml",e);let a=await fetch("".concat(r,"/recepciona"),{method:"POST",body:t});if(!a.ok)throw Error("Error recibiendo la confirmaci\xf3n");return a.json()},async checkTransactionStatus(e){let t=new FormData;t.append("id_tx_cliente",e);let a=await fetch("".concat(r,"/estado"),{method:"POST",body:t});if(!a.ok)throw Error("Error consultando el estado de la transacci\xf3n");return a.json()}}},53133:function(e,t,a){"use strict";a.d(t,{default:function(){return S}});var r=a(57437),s=a(2265),n=a(56935),l=a(76780),o=a(75134),i=a(89733),c=a(48185),d=a(87992),m=a(22468);function u(e){let{orderNumber:t,amount:a,name:s,email:n,region:l,date:o}=e;return(0,r.jsxs)("div",{className:"w-full max-w-md mx-auto p-6 bg-white print:shadow-none",children:[(0,r.jsxs)("div",{className:"text-center space-y-4 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"\xa1Listo! Tu pago ha sido verificado."}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("div",{className:"bg-yellow-100 rounded-full p-4",children:(0,r.jsx)(m.Z,{className:"h-8 w-8 text-yellow-400"})})}),(0,r.jsx)("p",{className:"text-gray-600",children:"Gracias por confiar en nosotros."})]}),(0,r.jsxs)("div",{className:"space-y-4 border-t border-b py-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"N\xb0 de pedido"}),(0,r.jsx)("span",{className:"font-medium",children:t})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Monto Pagado"}),(0,r.jsx)("span",{className:"font-medium",children:a})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Nombre"}),(0,r.jsx)("span",{className:"font-medium",children:s})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Correo electr\xf3nico"}),(0,r.jsx)("span",{className:"font-medium",children:n})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Regi\xf3n"}),(0,r.jsx)("span",{className:"font-medium",children:l})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Fecha compra"}),(0,r.jsx)("span",{className:"font-medium",children:o})]})]}),(0,r.jsx)("div",{className:"text-center text-sm text-gray-500 print:hidden",children:"Este comprobante ha sido generado autom\xe1ticamente"})]})}var x=a(5398),f=a(42421),p=a(49354);let h=x.fC,g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(x.ck,{ref:t,className:(0,p.cn)("border-b",a),...s})});g.displayName="AccordionItem";let b=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsx)(x.h4,{className:"flex",children:(0,r.jsxs)(x.xz,{ref:t,className:(0,p.cn)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",a),...n,children:[s,(0,r.jsx)(f.Z,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})})});b.displayName=x.xz.displayName;let v=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsx)(x.VY,{ref:t,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:(0,r.jsx)("div",{className:(0,p.cn)("pb-4 pt-0",a),children:s})})});v.displayName=x.VY.displayName;var j=a(38364),y=a(55086);let N=e=>{let t=e=>{let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t).concat(a).concat(r)},a=new Date,r=new Date;return r.setMonth(r.getMonth()+1),{codigo_canal_pago:"169",id_tx_pago:"TX".concat(Date.now()),fecha_pago:t(a),monto_total_deuda:e||"10",numero_boletas:"1",nombre_cliente:"Cliente Prueba",rut_cliente:"123456789",email_cliente:"nicolas@andestic.com",id_sub_tx:"1",identificador:"".concat(Date.now()),boleta:"0",monto:e||"10",fecha_vencimiento:t(r)}};function w(e){let{amount:t}=e,[a,n]=(0,s.useState)(!1),[l,o]=(0,s.useState)(null),i=async()=>{try{n(!0),o(null);let e=N(t);localStorage.setItem("servipag_transaction_id",e.id_tx_pago);let a=await y.Z.processPayment(e),r=document.createElement("form");r.method="POST",r.action=a.servipag_url,r.style.display="none";let s=document.createElement("input");s.type="hidden",s.name="xml",s.value=a.xml,r.appendChild(s),document.body.appendChild(r),console.log("Redirigiendo a Servipag...",{url:a.servipag_url,xml:a.xml}),r.submit(),setTimeout(()=>{document.body.removeChild(r)},1e3)}catch(e){console.error("Error en handlePayment:",e),o(e instanceof Error?e.message:"Error desconocido")}finally{n(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4"}),l&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),(0,r.jsxs)("button",{onClick:i,disabled:a,className:"w-full transition-transform hover:scale-105 focus:outline-none disabled:opacity-50",children:[(0,r.jsx)("img",{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/boton-servipag-i3dtiWyzUkAuah0cvGuTTRR0Sp8ufa.png",alt:"Pagar con Servipag",width:150,height:60,className:"mx-auto"}),"Online"]})]})}var _=a(94499);function S(){let[e,t]=(0,s.useState)(!1),[a,m]=(0,s.useState)("credit"),[x,f]=(0,s.useState)(1),p={orderNumber:"87674867473471473471",amount:"$ 10",name:"Andestic SpA",email:"contacto@andestic.com",region:"RM",date:new Date().toLocaleDateString()};new Date().toLocaleString();let[y,N]=(0,s.useState)("");return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 rounded-t-full",children:(0,r.jsxs)(c.Zb,{className:"w-full max-w-md",children:[(0,r.jsxs)(c.Ol,{className:"bg-yellow-400 text-black",children:[(0,r.jsxs)(c.ll,{className:"text-2xl font-bold flex items-center gap-2",children:[(0,r.jsx)(n.Z,{className:"h-6 w-6"}),"Pago Seguro"]}),(0,r.jsx)(c.SZ,{className:"text-gray-800",children:"Complete su pago de forma r\xe1pida y segura"})]}),(0,r.jsx)(c.aY,{className:"space-y-6 mt-4",children:1===x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Resumen de compra"}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Postulacion Prueba"}),(0,r.jsxs)("span",{children:["$",y||"10"]})]}),(0,r.jsxs)("div",{className:"flex justify-between font-bold mt-2",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["$",y||"10"]})]})]}),(0,r.jsxs)(d.bZ,{children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"}),(0,r.jsx)(d.Cd,{children:"Pago Seguro"}),(0,r.jsx)(d.X,{children:"Tus datos est\xe1n protegidos con encriptaci\xf3n de 256-bit."})]}),(0,r.jsx)(h,{type:"single",collapsible:!0,children:(0,r.jsxs)(g,{value:"item-1",children:[(0,r.jsx)(b,{children:"Pol\xedtica de reembolso"}),(0,r.jsx)(v,{children:"Ofrecemos un reembolso completo dentro de los primeros 30 d\xedas de la compra si no est\xe1s satisfecho con el curso."})]})}),(0,r.jsx)("input",{type:"number",value:y,placeholder:"Ingrese monto de prueba",onChange:e=>{N(e.target.value)},className:"border p-2 rounded w-full text-center"})]}):(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"max-w-lg mx-auto bg-white",children:[(0,r.jsx)(u,{...p}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 print:hidden",children:[(0,r.jsx)(i.z,{className:"flex-1 min-w-[150px] bg-yellow-400 hover:bg-yellow-500 text-black",onClick:()=>window.location.href="/#",children:"Volver al Dashboard"}),(0,r.jsxs)(i.z,{className:"flex-1 min-w-[150px] bg-black hover:bg-gray-800 text-yellow-400",onClick:()=>{window.print()},children:[(0,r.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Imprimir Comprobante"]})]})]})})}),1===x&&(0,r.jsx)("div",{className:"p-6 pt-0",children:(0,r.jsxs)("div",{className:"w-full space-y-4",children:[(0,r.jsx)(j._,{className:"text-base font-semibold",children:"Medios de pago:"}),(0,r.jsx)(w,{amount:y}),(0,r.jsx)("a",{href:"/postulacion/pago-postulacion/pago-forma-fisica?amount=".concat(y),className:"w-full transition-transform hover:scale-105 focus:outline-none disabled:opacity-50",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)(i.z,{className:"flex items-center gap-2 min-w-[200px] bg-yellow-400 hover:bg-yellow-500 text-black",children:[(0,r.jsx)(_.Z,{className:"h-5 w-5"})," Pago En Sucursal Servipag"]})})})]})})]})})})}},87992:function(e,t,a){"use strict";a.d(t,{Cd:function(){return c},X:function(){return d},bZ:function(){return i}});var r=a(57437),s=a(13027),n=a(2265),l=a(49354);let o=(0,s.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=n.forwardRef((e,t)=>{let{className:a,variant:s,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,l.cn)(o({variant:s}),a),...n})});i.displayName="Alert";let c=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",a),...s})});c.displayName="AlertTitle";let d=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",a),...s})});d.displayName="AlertDescription"},89733:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var r=a(57437),s=a(2265),n=a(71538),l=a(13027),o=a(49354);let i=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:c=!1,...d}=e,m=c?n.g7:"button";return(0,r.jsx)(m,{className:(0,o.cn)(i({variant:s,size:l,className:a})),ref:t,...d})});c.displayName="Button"},48185:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},eW:function(){return m},ll:function(){return i}});var r=a(57437),s=a(2265),n=a(49354);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...s})});l.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",a),...s})});i.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});m.displayName="CardFooter"},49354:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(44839),s=a(96164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[3420,284,2971,7023,1744],function(){return e(e.s=86280)}),_N_E=e.O()}]);